{"ast":null,"code":"import e, { useContext as n, useState as t, useRef as r, useEffect as o, useLayoutEffect as i, useMemo as s, createContext as a, Suspense as u, lazy as c } from \"react\";\nimport { Object3D as l, MathUtils as p, InstancedMesh as d, DynamicDrawUsage as f, Geometry as m, Vector3 as g, Face3 as y } from \"three\";\nimport { useFrame as b } from \"react-three-fiber\";\n\nfunction v() {\n  return (v = Object.assign || function (e) {\n    for (var n = 1; n < arguments.length; n++) {\n      var t = arguments[n];\n\n      for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nconst M = new l();\n\nfunction x(e, n, t) {\n  return n.args = t(n.args), e.position.set(...(n.position || [0, 0, 0])), e.rotation.set(...(n.rotation || [0, 0, 0])), n;\n}\n\nfunction h(e, n, t) {\n  void 0 !== n && (e.position.fromArray(t.positions, 3 * n), e.quaternion.fromArray(t.quaternions, 4 * n));\n}\n\nlet C = 0;\n\nfunction w(e, t, o, a) {\n  const u = r(null),\n        c = a || u,\n        {\n    worker: p,\n    bodies: m,\n    buffers: g,\n    refs: y,\n    events: w,\n    subscriptions: F\n  } = n(_);\n  i(() => {\n    c.current || (c.current = new l());\n    const n = c.current,\n          r = p;\n    let i,\n        s = [n.uuid];\n    return n instanceof d ? (n.instanceMatrix.setUsage(f), s = new Array(n.count).fill(0).map((e, t) => n.uuid + \"/\" + t), i = s.map((e, r) => {\n      const i = x(M, t(r), o);\n      return M.updateMatrix(), n.setMatrixAt(r, M.matrix), n.instanceMatrix.needsUpdate = !0, i;\n    })) : i = [x(n, t(0), o)], i.forEach((e, t) => {\n      y[s[t]] = n, e.onCollide && (w[s[t]] = e.onCollide, e.onCollide = !0);\n    }), r.postMessage({\n      op: \"addBodies\",\n      type: e,\n      uuid: s,\n      props: i\n    }), () => {\n      i.forEach((e, n) => {\n        delete y[s[n]], e.onCollide && delete w[s[n]];\n      }), r.postMessage({\n        op: \"removeBodies\",\n        uuid: s\n      });\n    };\n  }, []), b(() => {\n    if (c.current && g.positions.length && g.quaternions.length) if (c.current instanceof d) for (let e = 0; e < c.current.count; e++) {\n      const n = m.current[c.current.uuid + \"/\" + e];\n      void 0 !== n && (h(M, n, g), M.updateMatrix(), c.current.setMatrixAt(e, M.matrix)), c.current.instanceMatrix.needsUpdate = !0;\n    } else h(c.current, m.current[c.current.uuid], g);\n  });\n  const U = s(() => {\n    const e = e => void 0 !== e ? c.current.uuid + \"/\" + e : c.current.uuid,\n          n = (n, t, r) => c.current && p.postMessage({\n      op: n,\n      uuid: e(t),\n      props: r\n    }),\n          t = (e, t) => r => {\n      const o = C++;\n      return F[o] = r, n(\"subscribe\", t, {\n        id: o,\n        type: e\n      }), () => {\n        delete F[o], n(\"unsubscribe\", t, o);\n      };\n    },\n          r = (e, n) => e + n.charAt(0).toUpperCase() + n.slice(1),\n          o = (e, o) => ({\n      set: (t, i, s) => n(r(\"set\", e), o, [t, i, s]),\n      copy: ({\n        x: t,\n        y: i,\n        z: s\n      }) => n(r(\"set\", e), o, [t, i, s]),\n      subscribe: t(e, o)\n    }),\n          i = (e, o) => ({\n      set: t => n(r(\"set\", e), o, t),\n      subscribe: t(e, o)\n    });\n\n    function s(e) {\n      return {\n        position: o(\"position\", e),\n        rotation: o(\"quaternion\", e),\n        velocity: o(\"velocity\", e),\n        angularVelocity: o(\"angularVelocity\", e),\n        linearFactor: o(\"linearFactor\", e),\n        angularFactor: o(\"angularFactor\", e),\n        mass: i(\"mass\", e),\n        linearDamping: i(\"linearDamping\", e),\n        angularDamping: i(\"angularDamping\", e),\n        allowSleep: i(\"allowSleep\", e),\n        sleepSpeedLimit: i(\"sleepSpeedLimit\", e),\n        sleepTimeLimit: i(\"sleepTimeLimit\", e),\n        collisionFilterGroup: i(\"collisionFilterGroup\", e),\n        collisionFilterMask: i(\"collisionFilterMask\", e),\n        fixedRotation: i(\"fixedRotation\", e),\n\n        applyForce(t, r) {\n          n(\"applyForce\", e, [t, r]);\n        },\n\n        applyImpulse(t, r) {\n          n(\"applyImpulse\", e, [t, r]);\n        },\n\n        applyLocalForce(t, r) {\n          n(\"applyLocalForce\", e, [t, r]);\n        },\n\n        applyLocalImpulse(t, r) {\n          n(\"applyLocalImpulse\", e, [t, r]);\n        }\n\n      };\n    }\n\n    const a = {};\n    return v({}, s(void 0), {\n      at: e => a[e] || (a[e] = s(e))\n    });\n  }, []);\n  return [c, U];\n}\n\nfunction F(e, n) {\n  return w(\"Plane\", e, () => [], n);\n}\n\nfunction U(e, n) {\n  return w(\"Box\", e, e => e || [1, 1, 1], n);\n}\n\nfunction k(e, n) {\n  return w(\"Cylinder\", e, e => e, n);\n}\n\nfunction L(e, n) {\n  return w(\"Heightfield\", e, e => e, n);\n}\n\nfunction A(e, n) {\n  return w(\"Particle\", e, () => [], n);\n}\n\nfunction D(e, n) {\n  return w(\"Sphere\", e, e => [null != e ? e : 1], n);\n}\n\nfunction P(e, n) {\n  return w(\"Trimesh\", e, e => {\n    const n = e instanceof m ? e.vertices : e[0],\n          t = e instanceof m ? e.faces : e[1];\n    return [n.map(e => e instanceof g ? [e.x, e.y, e.z] : e), t.map(e => e instanceof y ? [e.a, e.b, e.c] : e)];\n  }, n);\n}\n\nfunction I(e, n) {\n  return w(\"ConvexPolyhedron\", e, e => {\n    const n = e instanceof m ? e.vertices : e[0],\n          t = e instanceof m ? e.faces : e[1],\n          r = e instanceof m ? e.faces.map(e => e.normal) : e[2];\n    return [n.map(e => e instanceof g ? [e.x, e.y, e.z] : e), t.map(e => e instanceof y ? [e.a, e.b, e.c] : e), r && r.map(e => e instanceof g ? [e.x, e.y, e.z] : e)];\n  }, n);\n}\n\nfunction S(e, n) {\n  return w(\"Compound\", e, e => e || [], n);\n}\n\nfunction q(e, t, i, a = {}, u = []) {\n  const {\n    worker: c\n  } = n(_),\n        l = p.generateUUID(),\n        d = r(null),\n        f = r(null);\n  t = null == t ? d : t, i = null == i ? f : i, o(() => {\n    if (t.current && i.current) return c.postMessage({\n      op: \"addConstraint\",\n      uuid: l,\n      type: e,\n      props: [t.current.uuid, i.current.uuid, a]\n    }), () => c.postMessage({\n      op: \"removeConstraint\",\n      uuid: l\n    });\n  }, u);\n  const m = s(() => ({\n    enable: () => c.postMessage({\n      op: \"enableConstraint\",\n      uuid: l\n    }),\n    disable: () => c.postMessage({\n      op: \"disableConstraint\",\n      uuid: l\n    })\n  }), u);\n  return [t, i, m];\n}\n\nfunction T(e, n, t, r = []) {\n  return q(\"PointToPoint\", e, n, t, r);\n}\n\nfunction j(e, n, t, r = []) {\n  return q(\"ConeTwist\", e, n, t, r);\n}\n\nfunction z(e, n, t, r = []) {\n  return q(\"Distance\", e, n, t, r);\n}\n\nfunction E(e, n, t, r = []) {\n  return q(\"Hinge\", e, n, t, r);\n}\n\nfunction R(e, n, t, r = []) {\n  return q(\"Lock\", e, n, t, r);\n}\n\nfunction B(e, i, s, a = []) {\n  const {\n    worker: u,\n    events: c\n  } = n(_),\n        [l] = t(() => p.generateUUID()),\n        d = r(null),\n        f = r(null);\n  return e = null == e ? d : e, i = null == i ? f : i, o(() => {\n    if (e.current && i.current) return u.postMessage({\n      op: \"addSpring\",\n      uuid: l,\n      props: [e.current.uuid, i.current.uuid, s]\n    }), c[l] = () => {}, () => {\n      u.postMessage({\n        op: \"removeSpring\",\n        uuid: l\n      }), delete c[l];\n    };\n  }, a), [e, i];\n}\n\nfunction O(e, r, i, s = []) {\n  const {\n    worker: a,\n    events: u\n  } = n(_),\n        [c] = t(() => p.generateUUID());\n  o(() => (u[c] = i, a.postMessage({\n    op: \"addRay\",\n    uuid: c,\n    props: v({\n      mode: e\n    }, r)\n  }), () => {\n    a.postMessage({\n      op: \"removeRay\",\n      uuid: c\n    }), delete u[c];\n  }), s);\n}\n\nfunction G(e, n, t = []) {\n  O(\"Closest\", e, n, t);\n}\n\nfunction H(e, n, t = []) {\n  O(\"Any\", e, n, t);\n}\n\nfunction V(e, n, t = []) {\n  O(\"All\", e, n, t);\n}\n\nconst _ = a({}),\n      J = \"undefined\" == typeof window ? () => null : c(() => import(\"./Provider-480a0e71.js\"));\n\nfunction K(n) {\n  return e.createElement(u, {\n    fallback: null\n  }, e.createElement(J, n));\n}\n\nexport { K as P, v as _, U as a, k as b, _ as c, L as d, A as e, D as f, P as g, I as h, S as i, T as j, j as k, z as l, E as m, R as n, B as o, G as p, H as q, V as r, F as u };","map":{"version":3,"sources":["/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react/node_modules/use-cannon/dist/index-548cb6ed.js"],"names":["e","useContext","n","useState","t","useRef","r","useEffect","o","useLayoutEffect","i","useMemo","s","createContext","a","Suspense","u","lazy","c","Object3D","l","MathUtils","p","InstancedMesh","d","DynamicDrawUsage","f","Geometry","m","Vector3","g","Face3","y","useFrame","b","v","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","M","x","args","position","set","rotation","h","fromArray","positions","quaternion","quaternions","C","w","worker","bodies","buffers","refs","events","subscriptions","F","_","current","uuid","instanceMatrix","setUsage","Array","count","fill","map","updateMatrix","setMatrixAt","matrix","needsUpdate","forEach","onCollide","postMessage","op","type","props","U","id","charAt","toUpperCase","slice","copy","z","subscribe","velocity","angularVelocity","linearFactor","angularFactor","mass","linearDamping","angularDamping","allowSleep","sleepSpeedLimit","sleepTimeLimit","collisionFilterGroup","collisionFilterMask","fixedRotation","applyForce","applyImpulse","applyLocalForce","applyLocalImpulse","at","k","L","A","D","P","vertices","faces","I","normal","S","q","generateUUID","enable","disable","T","j","E","R","B","O","mode","G","H","V","J","window","K","createElement","fallback"],"mappings":"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","sourcesContent":["import e,{useContext as n,useState as t,useRef as r,useEffect as o,useLayoutEffect as i,useMemo as s,createContext as a,Suspense as u,lazy as c}from\"react\";import{Object3D as l,MathUtils as p,InstancedMesh as d,DynamicDrawUsage as f,Geometry as m,Vector3 as g,Face3 as y}from\"three\";import{useFrame as b}from\"react-three-fiber\";function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}const M=new l;function x(e,n,t){return n.args=t(n.args),e.position.set(...n.position||[0,0,0]),e.rotation.set(...n.rotation||[0,0,0]),n}function h(e,n,t){void 0!==n&&(e.position.fromArray(t.positions,3*n),e.quaternion.fromArray(t.quaternions,4*n))}let C=0;function w(e,t,o,a){const u=r(null),c=a||u,{worker:p,bodies:m,buffers:g,refs:y,events:w,subscriptions:F}=n(_);i(()=>{c.current||(c.current=new l);const n=c.current,r=p;let i,s=[n.uuid];return n instanceof d?(n.instanceMatrix.setUsage(f),s=new Array(n.count).fill(0).map((e,t)=>n.uuid+\"/\"+t),i=s.map((e,r)=>{const i=x(M,t(r),o);return M.updateMatrix(),n.setMatrixAt(r,M.matrix),n.instanceMatrix.needsUpdate=!0,i})):i=[x(n,t(0),o)],i.forEach((e,t)=>{y[s[t]]=n,e.onCollide&&(w[s[t]]=e.onCollide,e.onCollide=!0)}),r.postMessage({op:\"addBodies\",type:e,uuid:s,props:i}),()=>{i.forEach((e,n)=>{delete y[s[n]],e.onCollide&&delete w[s[n]]}),r.postMessage({op:\"removeBodies\",uuid:s})}},[]),b(()=>{if(c.current&&g.positions.length&&g.quaternions.length)if(c.current instanceof d)for(let e=0;e<c.current.count;e++){const n=m.current[c.current.uuid+\"/\"+e];void 0!==n&&(h(M,n,g),M.updateMatrix(),c.current.setMatrixAt(e,M.matrix)),c.current.instanceMatrix.needsUpdate=!0}else h(c.current,m.current[c.current.uuid],g)});const U=s(()=>{const e=e=>void 0!==e?c.current.uuid+\"/\"+e:c.current.uuid,n=(n,t,r)=>c.current&&p.postMessage({op:n,uuid:e(t),props:r}),t=(e,t)=>r=>{const o=C++;return F[o]=r,n(\"subscribe\",t,{id:o,type:e}),()=>{delete F[o],n(\"unsubscribe\",t,o)}},r=(e,n)=>e+n.charAt(0).toUpperCase()+n.slice(1),o=(e,o)=>({set:(t,i,s)=>n(r(\"set\",e),o,[t,i,s]),copy:({x:t,y:i,z:s})=>n(r(\"set\",e),o,[t,i,s]),subscribe:t(e,o)}),i=(e,o)=>({set:t=>n(r(\"set\",e),o,t),subscribe:t(e,o)});function s(e){return{position:o(\"position\",e),rotation:o(\"quaternion\",e),velocity:o(\"velocity\",e),angularVelocity:o(\"angularVelocity\",e),linearFactor:o(\"linearFactor\",e),angularFactor:o(\"angularFactor\",e),mass:i(\"mass\",e),linearDamping:i(\"linearDamping\",e),angularDamping:i(\"angularDamping\",e),allowSleep:i(\"allowSleep\",e),sleepSpeedLimit:i(\"sleepSpeedLimit\",e),sleepTimeLimit:i(\"sleepTimeLimit\",e),collisionFilterGroup:i(\"collisionFilterGroup\",e),collisionFilterMask:i(\"collisionFilterMask\",e),fixedRotation:i(\"fixedRotation\",e),applyForce(t,r){n(\"applyForce\",e,[t,r])},applyImpulse(t,r){n(\"applyImpulse\",e,[t,r])},applyLocalForce(t,r){n(\"applyLocalForce\",e,[t,r])},applyLocalImpulse(t,r){n(\"applyLocalImpulse\",e,[t,r])}}}const a={};return v({},s(void 0),{at:e=>a[e]||(a[e]=s(e))})},[]);return[c,U]}function F(e,n){return w(\"Plane\",e,()=>[],n)}function U(e,n){return w(\"Box\",e,e=>e||[1,1,1],n)}function k(e,n){return w(\"Cylinder\",e,e=>e,n)}function L(e,n){return w(\"Heightfield\",e,e=>e,n)}function A(e,n){return w(\"Particle\",e,()=>[],n)}function D(e,n){return w(\"Sphere\",e,e=>[null!=e?e:1],n)}function P(e,n){return w(\"Trimesh\",e,e=>{const n=e instanceof m?e.vertices:e[0],t=e instanceof m?e.faces:e[1];return[n.map(e=>e instanceof g?[e.x,e.y,e.z]:e),t.map(e=>e instanceof y?[e.a,e.b,e.c]:e)]},n)}function I(e,n){return w(\"ConvexPolyhedron\",e,e=>{const n=e instanceof m?e.vertices:e[0],t=e instanceof m?e.faces:e[1],r=e instanceof m?e.faces.map(e=>e.normal):e[2];return[n.map(e=>e instanceof g?[e.x,e.y,e.z]:e),t.map(e=>e instanceof y?[e.a,e.b,e.c]:e),r&&r.map(e=>e instanceof g?[e.x,e.y,e.z]:e)]},n)}function S(e,n){return w(\"Compound\",e,e=>e||[],n)}function q(e,t,i,a={},u=[]){const{worker:c}=n(_),l=p.generateUUID(),d=r(null),f=r(null);t=null==t?d:t,i=null==i?f:i,o(()=>{if(t.current&&i.current)return c.postMessage({op:\"addConstraint\",uuid:l,type:e,props:[t.current.uuid,i.current.uuid,a]}),()=>c.postMessage({op:\"removeConstraint\",uuid:l})},u);const m=s(()=>({enable:()=>c.postMessage({op:\"enableConstraint\",uuid:l}),disable:()=>c.postMessage({op:\"disableConstraint\",uuid:l})}),u);return[t,i,m]}function T(e,n,t,r=[]){return q(\"PointToPoint\",e,n,t,r)}function j(e,n,t,r=[]){return q(\"ConeTwist\",e,n,t,r)}function z(e,n,t,r=[]){return q(\"Distance\",e,n,t,r)}function E(e,n,t,r=[]){return q(\"Hinge\",e,n,t,r)}function R(e,n,t,r=[]){return q(\"Lock\",e,n,t,r)}function B(e,i,s,a=[]){const{worker:u,events:c}=n(_),[l]=t(()=>p.generateUUID()),d=r(null),f=r(null);return e=null==e?d:e,i=null==i?f:i,o(()=>{if(e.current&&i.current)return u.postMessage({op:\"addSpring\",uuid:l,props:[e.current.uuid,i.current.uuid,s]}),c[l]=()=>{},()=>{u.postMessage({op:\"removeSpring\",uuid:l}),delete c[l]}},a),[e,i]}function O(e,r,i,s=[]){const{worker:a,events:u}=n(_),[c]=t(()=>p.generateUUID());o(()=>(u[c]=i,a.postMessage({op:\"addRay\",uuid:c,props:v({mode:e},r)}),()=>{a.postMessage({op:\"removeRay\",uuid:c}),delete u[c]}),s)}function G(e,n,t=[]){O(\"Closest\",e,n,t)}function H(e,n,t=[]){O(\"Any\",e,n,t)}function V(e,n,t=[]){O(\"All\",e,n,t)}const _=a({}),J=\"undefined\"==typeof window?()=>null:c(()=>import(\"./Provider-480a0e71.js\"));function K(n){return e.createElement(u,{fallback:null},e.createElement(J,n))}export{K as P,v as _,U as a,k as b,_ as c,L as d,A as e,D as f,P as g,I as h,S as i,T as j,j as k,z as l,E as m,R as n,B as o,G as p,H as q,V as r,F as u};\n"]},"metadata":{},"sourceType":"module"}