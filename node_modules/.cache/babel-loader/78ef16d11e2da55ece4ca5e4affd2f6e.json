{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react/src/components/Cube.js\";\nimport React, { memo } from 'react';\nimport { useBox } from 'use-cannon';\nimport { useState } from 'react';\nimport * as textures from '../textures';\nimport useSound from 'use-sound';\nimport boopSfx from '../audio/pedra.wav';\n\nconst Cube = ({\n  position,\n  texture,\n  addCube,\n  removeCube\n}) => {\n  const [hover, setHover] = useState(null);\n  const [ref] = useBox(() => ({\n    type: 'Static',\n    position,\n    args: [0.1, 0.1, 0.1]\n  }));\n  const [play] = useSound(boopSfx);\n  const color = texture === 'glass' ? 'skyblue' : 'white';\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    castShadow: true,\n    ref: ref,\n    args: [0.1, 0.1, 0.1],\n    onPointerMove: e => {\n      e.stopPropagation();\n      setHover(Math.floor(e.faceIndex / 2));\n    },\n    onPointerOut: () => {\n      setHover(null);\n    },\n    onClick: e => {\n      e.stopPropagation();\n      const clickedFace = Math.floor(e.faceIndex / 2);\n      const {\n        x,\n        y,\n        z\n      } = ref.current.position;\n      play();\n\n      if (clickedFace === 0) {\n        e.altKey ? removeCube(x, y, z) : addCube(x + 0.01, y, z);\n        return;\n      }\n\n      if (clickedFace === 1) {\n        e.altKey ? removeCube(x, y, z) : addCube(x - 0.01, y, z);\n        return;\n      }\n\n      if (clickedFace === 2) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y + 0.01, z);\n        return;\n      }\n\n      if (clickedFace === 3) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y - 0.01, z);\n        return;\n      }\n\n      if (clickedFace === 4) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 0.01);\n        return;\n      }\n\n      if (clickedFace === 5) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 0.01);\n        return;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, [...Array(6)].map((_, index) => /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    attachArray: \"material\",\n    map: textures[texture],\n    key: index,\n    color: hover === index ? 'gray' : color,\n    opacity: texture === 'glass' ? 0.7 : 1,\n    transparent: true,\n    args: [0.1, 0.1, 0.1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"boxBufferGeometry\", {\n    attach: \"geometry\",\n    args: [0.01, 0.01, 0.01],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n};\n\nfunction equalProps(prevProps, nextProps) {\n  const equalPosition = prevProps.position.x === nextProps.position.x && prevProps.position.y === nextProps.position.y && prevProps.position.z === nextProps.position.z;\n  return equalPosition && prevProps.texture === nextProps.texture;\n}\n\nexport default memo(Cube, equalProps);","map":{"version":3,"sources":["/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react/src/components/Cube.js"],"names":["React","memo","useBox","useState","textures","useSound","boopSfx","Cube","position","texture","addCube","removeCube","hover","setHover","ref","type","args","play","color","e","stopPropagation","Math","floor","faceIndex","clickedFace","x","y","z","current","altKey","Array","map","_","index","equalProps","prevProps","nextProps","equalPosition"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport { useBox } from 'use-cannon';\nimport { useState } from 'react';\nimport * as textures from '../textures';\nimport useSound from 'use-sound';\n\nimport boopSfx from '../audio/pedra.wav';\n\nconst Cube = ({ position, texture, addCube, removeCube }) => {\n  const [hover, setHover] = useState(null);\n\n  const [ref] = useBox(() => ({\n    type: 'Static',\n    position,\n    args:[0.1, 0.1, 0.1]\n  }));\n\n\n\n  const [play] = useSound(boopSfx);\n\n  const color = texture === 'glass' ? 'skyblue' : 'white';\n  return (\n    <mesh\n      castShadow\n      ref={ref}\n      args={[0.1, 0.1, 0.1]}\n      onPointerMove={(e) => {\n        e.stopPropagation();\n        setHover(Math.floor(e.faceIndex / 2));\n      }}\n      onPointerOut={() => {\n        setHover(null);\n      }}\n      onClick={(e) => {\n        e.stopPropagation();\n        const clickedFace = Math.floor(e.faceIndex / 2);\n        const { x, y, z } = ref.current.position;\n        play();\n        if (clickedFace === 0) {\n          e.altKey ? removeCube(x, y, z) : addCube(x + 0.01, y, z);\n          return;\n        }\n        if (clickedFace === 1) {\n          e.altKey ? removeCube(x, y, z) : addCube(x - 0.01, y, z);\n          return;\n        }\n        if (clickedFace === 2) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y + 0.01, z);\n          return;\n        }\n        if (clickedFace === 3) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y - 0.01, z);\n          return;\n        }\n        if (clickedFace === 4) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 0.01);\n          return;\n        }\n        if (clickedFace === 5) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 0.01);\n          return;\n        }\n      }}\n    >\n      {[...Array(6)].map((_, index) => (\n        <meshStandardMaterial\n          attachArray=\"material\"\n          map={textures[texture]}\n          key={index}\n          color={hover === index ? 'gray' : color}\n          opacity={texture === 'glass' ? 0.7 : 1}\n          transparent={true}\n          args={[0.1, 0.1, 0.1]}\n          \n        />\n      ))}\n      <boxBufferGeometry attach=\"geometry\" args={[0.01, 0.01, 0.01]} />\n    </mesh>\n  );\n};\n\nfunction equalProps(prevProps, nextProps) {\n  const equalPosition =\n    prevProps.position.x === nextProps.position.x &&\n    prevProps.position.y === nextProps.position.y &&\n    prevProps.position.z === nextProps.position.z;\n\n  return equalPosition && prevProps.texture === nextProps.texture;\n}\n\nexport default memo(Cube, equalProps);\n"]},"metadata":{},"sourceType":"module"}