{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nvar deepEqual = require('fast-deep-equal');\n\nvar promiseCaches = [];\n\nvar usePromise = function (promise, inputs, lifespan) {\n  if (lifespan === void 0) {\n    lifespan = 0;\n  }\n\n  var e_1, _a;\n\n  try {\n    for (var promiseCaches_1 = __values(promiseCaches), promiseCaches_1_1 = promiseCaches_1.next(); !promiseCaches_1_1.done; promiseCaches_1_1 = promiseCaches_1.next()) {\n      var promiseCache_1 = promiseCaches_1_1.value;\n\n      if (deepEqual(inputs, promiseCache_1.inputs)) {\n        if (Object.prototype.hasOwnProperty.call(promiseCache_1, 'error')) {\n          throw promiseCache_1.error;\n        }\n\n        if (Object.prototype.hasOwnProperty.call(promiseCache_1, 'response')) {\n          return promiseCache_1.response;\n        }\n\n        throw promiseCache_1.promise;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (promiseCaches_1_1 && !promiseCaches_1_1.done && (_a = promiseCaches_1.return)) _a.call(promiseCaches_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  var promiseCache = {\n    promise: promise.apply(void 0, __spread(inputs)).then(function (response) {\n      promiseCache.response = response;\n    }).catch(function (e) {\n      promiseCache.error = e;\n    }).then(function () {\n      if (lifespan > 0) {\n        setTimeout(function () {\n          var index = promiseCaches.indexOf(promiseCache);\n\n          if (index !== -1) {\n            promiseCaches.splice(index, 1);\n          }\n        }, lifespan);\n      }\n    }),\n    inputs: inputs\n  };\n  promiseCaches.push(promiseCache);\n  throw promiseCache.promise;\n};\n\nmodule.exports = usePromise;","map":{"version":3,"sources":["/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react-game/node_modules/react-promise-suspense/build/index.js"],"names":["__values","o","m","Symbol","iterator","i","call","next","length","value","done","__read","n","r","ar","e","push","error","__spread","arguments","concat","deepEqual","require","promiseCaches","usePromise","promise","inputs","lifespan","e_1","_a","promiseCaches_1","promiseCaches_1_1","promiseCache_1","Object","prototype","hasOwnProperty","response","e_1_1","return","promiseCache","apply","then","catch","setTimeout","index","indexOf","splice","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar deepEqual = require('fast-deep-equal');\nvar promiseCaches = [];\nvar usePromise = function (promise, inputs, lifespan) {\n    if (lifespan === void 0) { lifespan = 0; }\n    var e_1, _a;\n    try {\n        for (var promiseCaches_1 = __values(promiseCaches), promiseCaches_1_1 = promiseCaches_1.next(); !promiseCaches_1_1.done; promiseCaches_1_1 = promiseCaches_1.next()) {\n            var promiseCache_1 = promiseCaches_1_1.value;\n            if (deepEqual(inputs, promiseCache_1.inputs)) {\n                if (Object.prototype.hasOwnProperty.call(promiseCache_1, 'error')) {\n                    throw promiseCache_1.error;\n                }\n                if (Object.prototype.hasOwnProperty.call(promiseCache_1, 'response')) {\n                    return promiseCache_1.response;\n                }\n                throw promiseCache_1.promise;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (promiseCaches_1_1 && !promiseCaches_1_1.done && (_a = promiseCaches_1.return)) _a.call(promiseCaches_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    var promiseCache = {\n        promise: promise.apply(void 0, __spread(inputs)).then(function (response) {\n            promiseCache.response = response;\n        })\n            .catch(function (e) {\n            promiseCache.error = e;\n        })\n            .then(function () {\n            if (lifespan > 0) {\n                setTimeout(function () {\n                    var index = promiseCaches.indexOf(promiseCache);\n                    if (index !== -1) {\n                        promiseCaches.splice(index, 1);\n                    }\n                }, lifespan);\n            }\n        }),\n        inputs: inputs,\n    };\n    promiseCaches.push(promiseCache);\n    throw promiseCache.promise;\n};\nmodule.exports = usePromise;\n"]},"metadata":{},"sourceType":"script"}