{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react-game/src/components/Cube.js\";\nimport React, { memo } from 'react';\nimport { useBox } from 'use-cannon';\nimport { useState } from 'react';\nimport * as textures from '../textures';\nimport useSound from 'use-sound';\nimport boopSfx from '../audio/pedra.wav';\n\nconst Cube = ({\n  position,\n  texture,\n  addCube,\n  removeCube\n}) => {\n  const [hover, setHover] = useState(null);\n  const [ref] = useBox(() => ({\n    type: 'Static',\n    //type: \"Kinematic\",\n    position\n  }));\n\n  function maoAvanca() {\n    document.getElementById(\"mao\").style.bottom = '-150px';\n    document.getElementById(\"mao\").style.right = '300px';\n    document.getElementById(\"mao\").style.transform = \"rotate(-15deg)\";\n    setTimeout(() => {}, 1000);\n  }\n\n  const [play] = useSound(boopSfx);\n  const color = texture === 'glass' ? 'skyblue' : 'white';\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    castShadow: true,\n    ref: ref,\n    onPointerMove: e => {\n      setHover(Math.floor(e.faceIndex / 2)); //  const hoverFace = Math.floor(e.faceIndex / 2);\n      //  const { x, y, z } = ref.current.position;\n      // if (hoverFace === 0) {\n      //  moveCubeNew(x + 1, y, z);\n      //   return;\n      // }\n      // if (hoverFace === 1) {\n      //   moveCubeNew(x - 1, y, z);\n      //   return;\n      // }\n      // if (hoverFace === 2) {\n      //   moveCubeNew(x, y + 1, z);\n      //   return;\n      // }\n      // if (hoverFace === 3) {\n      //   moveCubeNew(x, y - 1, z);\n      //   return;\n      // }\n      // if (hoverFace === 4) {\n      //   moveCubeNew(x, y, z + 1);\n      //   return;\n      // }\n      // if (hoverFace === 5) {\n      //   moveCubeNew(x, y, z - 1);\n      //   return;\n      // }\n\n      e.stopPropagation();\n    },\n    onPointerOut: () => {\n      setHover(null);\n    },\n    onClick: e => {\n      e.stopPropagation();\n      const clickedFace = Math.floor(e.faceIndex / 2);\n      const {\n        x,\n        y,\n        z\n      } = ref.current.position;\n      play();\n      maoAvanca();\n\n      if (clickedFace === 0) {\n        e.altKey ? removeCube(x, y, z) : addCube(x + 1, y, z);\n        return;\n      }\n\n      if (clickedFace === 1) {\n        e.altKey ? removeCube(x, y, z) : addCube(x - 1, y, z);\n        return;\n      }\n\n      if (clickedFace === 2) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y + 1, z);\n        return;\n      }\n\n      if (clickedFace === 3) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y - 1, z);\n        return;\n      }\n\n      if (clickedFace === 4) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 1);\n        return;\n      }\n\n      if (clickedFace === 5) {\n        e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 1);\n        return;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"boxBufferGeometry\", {\n    attach: \"geometry\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    attach: \"material\",\n    map: textures[texture],\n    color: hover != null ? 'gray' : color,\n    opacity: texture === 'glass' ? 0.7 : 1,\n    transparent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 10\n    }\n  }));\n}; // function equalProps(prevProps, nextProps) {\n//   const equalPosition =\n//     prevProps.position.x === nextProps.position.x &&\n//     prevProps.position.y === nextProps.position.y &&\n//     prevProps.position.z === nextProps.position.z;\n//   return equalPosition && prevProps.texture === nextProps.texture;\n// }\n//export default memo(Cube, equalProps);\n\n\nexport default memo(Cube);","map":{"version":3,"sources":["/home/rodrigo/Dropbox/Projetos/rodrigoKulb/minecraft-react-game/src/components/Cube.js"],"names":["React","memo","useBox","useState","textures","useSound","boopSfx","Cube","position","texture","addCube","removeCube","hover","setHover","ref","type","maoAvanca","document","getElementById","style","bottom","right","transform","setTimeout","play","color","e","Math","floor","faceIndex","stopPropagation","clickedFace","x","y","z","current","altKey"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport { useBox } from 'use-cannon';\nimport { useState } from 'react';\nimport * as textures from '../textures';\nimport useSound from 'use-sound';\n\nimport boopSfx from '../audio/pedra.wav';\n\nconst Cube = ({ position, texture, addCube, removeCube }) => {\n  const [hover, setHover] = useState(null);\n\n  const [ref] = useBox(() => ({\n    type: 'Static',\n    //type: \"Kinematic\",\n    position,\n  }));\n\n\nfunction maoAvanca()\n{\n  document.getElementById(\"mao\").style.bottom = '-150px';\n  document.getElementById(\"mao\").style.right = '300px';\n  document.getElementById(\"mao\").style.transform = \"rotate(-15deg)\";\n  setTimeout(() => {\n    \n  }, 1000);\n}\n  const [play] = useSound(boopSfx);\n\n  const color = texture === 'glass' ? 'skyblue' : 'white';\n  return (\n    <mesh\n      castShadow\n      ref={ref}\n      onPointerMove={(e) => {\n         setHover(Math.floor(e.faceIndex / 2));\n        //  const hoverFace = Math.floor(e.faceIndex / 2);\n        //  const { x, y, z } = ref.current.position;\n        // if (hoverFace === 0) {\n        //  moveCubeNew(x + 1, y, z);\n        //   return;\n        // }\n        // if (hoverFace === 1) {\n        //   moveCubeNew(x - 1, y, z);\n        //   return;\n        // }\n        // if (hoverFace === 2) {\n        //   moveCubeNew(x, y + 1, z);\n        //   return;\n        // }\n        // if (hoverFace === 3) {\n        //   moveCubeNew(x, y - 1, z);\n        //   return;\n        // }\n        // if (hoverFace === 4) {\n        //   moveCubeNew(x, y, z + 1);\n        //   return;\n        // }\n        // if (hoverFace === 5) {\n        //   moveCubeNew(x, y, z - 1);\n        //   return;\n        // }\n        e.stopPropagation();\n       \n      }}\n      onPointerOut={() => {\n        setHover(null);\n      }}\n      onClick={(e) => {\n        e.stopPropagation();\n        const clickedFace = Math.floor(e.faceIndex / 2);\n        const { x, y, z } = ref.current.position;\n        play();\n        maoAvanca();\n        if (clickedFace === 0) {\n          e.altKey ? removeCube(x, y, z) : addCube(x + 1, y, z);\n          return;\n        }\n        if (clickedFace === 1) {\n          e.altKey ? removeCube(x, y, z) : addCube(x - 1, y, z);\n          return;\n        }\n        if (clickedFace === 2) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y + 1, z);\n          return;\n        }\n        if (clickedFace === 3) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y - 1, z);\n          return;\n        }\n        if (clickedFace === 4) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z + 1);\n          return;\n        }\n        if (clickedFace === 5) {\n          e.altKey ? removeCube(x, y, z) : addCube(x, y, z - 1);\n          return;\n        }\n      }}\n    >\n         <boxBufferGeometry attach=\"geometry\" />\n         <meshStandardMaterial \n         attach=\"material\"  \n         map={textures[texture]} \n         color={hover!=null ? 'gray' : color}\n         opacity={texture === 'glass' ? 0.7 : 1}\n         transparent={true}\n         />\n         {/* <meshStandardMaterial\n          \n          envMap={textures['dirt']}\n          //color={hover === index ? 'gray' : 'green'}\n          opacity={texture === 'glass' ? 0.7 : 1}\n          //color={'green'}\n          transparent={true}\n        /> */}\n       \n      {/* {[...Array(6)].map((_, index) => (\n        <meshStandardMaterial\n          //attachArray=\"material\"\n          map={textures['dirt']}\n          key={index}\n          color={hover === index ? 'gray' : 'green'}\n          opacity={texture === 'glass' ? 0.7 : 1}\n          //color={'green'}\n          transparent={true}\n        />\n      ))} */}\n      \n      \n    </mesh>\n  );\n};\n\n// function equalProps(prevProps, nextProps) {\n//   const equalPosition =\n//     prevProps.position.x === nextProps.position.x &&\n//     prevProps.position.y === nextProps.position.y &&\n//     prevProps.position.z === nextProps.position.z;\n\n//   return equalPosition && prevProps.texture === nextProps.texture;\n// }\n\n//export default memo(Cube, equalProps);\nexport default memo(Cube);\n"]},"metadata":{},"sourceType":"module"}