{"version":3,"file":"index.js","sources":["src/Animated.ts","src/AnimatedValue.ts","src/AnimatedString.ts","src/context.ts","src/AnimatedObject.ts","src/AnimatedArray.ts","src/AnimatedProps.ts","src/withAnimated.tsx","src/createHost.ts"],"sourcesContent":null,"names":["$node","Symbol","for","isAnimated","value","getAnimated","owner","setAnimated","node","defineHidden","getPayload","Animated","constructor","payload","AnimatedValue","_value","done","elapsedTime","lastPosition","lastVelocity","v0","is","num","create","from","_to","getValue","setValue","step","Math","round","reset","AnimatedString","to","_string","_toString","createInterpolator","output","str","TypeError","goal","TreeContext","current","AnimatedObject","source","animated","values","each","key","config","getFluidConfig","get","_makePayload","Set","_addToPayload","Array","dependencies","add","AnimatedArray","_makeAnimated","map","newValue","length","i","isAnimatedString","AnimatedProps","update","dirty","props","context","style","createAnimatedStyle","host","onParentChange","type","G","onFrame","withAnimated","Component","forwardRef","rawProps","ref","instanceRef","useRef","hasInstance","fun","prototype","isReactComponent","forceUpdate","useForceUpdate","instance","didUpdate","applyAnimatedValues","useLayoutEffect","dep","addChild","removeChild","React.createElement","getComponentProps","updateRef","cacheKey","createHost","components","hostConfig","displayName","getDisplayName","arg","name"],"mappings":"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"}