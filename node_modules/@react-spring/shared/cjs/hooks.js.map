{"version":3,"file":"hooks.js","sourceRoot":"","sources":["../../src/hooks.ts"],"names":[],"mappings":";;AAAA,+BAAmD;AAKtC,QAAA,OAAO,GAAY,UAAA,MAAM,IAAI,OAAA,iBAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAArB,CAAqB,CAAA;AAE/D,yEAAyE;AAC5D,QAAA,cAAc,GAAG;IAC5B,IAAM,MAAM,GAAG,gBAAQ,CAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IAClC,IAAM,SAAS,GAAG,cAAM,CAAC,KAAK,CAAC,CAAA;IAC/B,eAAO,CAAC,cAAM,OAAA;QACZ,SAAS,CAAC,OAAO,GAAG,IAAI,CAAA;IAC1B,CAAC,EAFa,CAEb,CAAC,CAAA;IACF,OAAO;QACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACtB,MAAM,CAAC,EAAE,CAAC,CAAA;SACX;IACH,CAAC,CAAA;AACH,CAAC,CAAA;AAED,2CAA2C;AAC3C,SAAgB,OAAO,CAAI,KAAQ;IACjC,IAAM,OAAO,GAAG,cAAM,CAAM,SAAS,CAAC,CAAA;IACtC,iBAAS,CAAC;QACR,OAAO,CAAC,OAAO,GAAG,KAAK,CAAA;IACzB,CAAC,CAAC,CAAA;IACF,OAAO,OAAO,CAAC,OAAO,CAAA;AACxB,CAAC;AAND,0BAMC","sourcesContent":["import { useEffect, useRef, useState } from 'react'\n\n// Explicit type annotation fixes TS2742 error.\ntype UseOnce = (effect: React.EffectCallback) => void\n\nexport const useOnce: UseOnce = effect => useEffect(effect, [])\n\n/** Return a function that re-renders this component, if still mounted */\nexport const useForceUpdate = () => {\n  const update = useState<any>(0)[1]\n  const unmounted = useRef(false)\n  useOnce(() => () => {\n    unmounted.current = true\n  })\n  return () => {\n    if (!unmounted.current) {\n      update({})\n    }\n  }\n}\n\n/** Use a value from the previous render */\nexport function usePrev<T>(value: T): T | undefined {\n  const prevRef = useRef<any>(undefined)\n  useEffect(() => {\n    prevRef.current = value\n  })\n  return prevRef.current\n}\n"]}