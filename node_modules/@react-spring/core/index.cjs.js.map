{"version":3,"file":"index.cjs.js","sources":["src/hooks/useChain.js","src/constants.ts","src/AnimationConfig.ts","src/Animation.ts","src/helpers.ts","src/scheduleProps.ts","src/AnimationResult.ts","src/runAsync.ts","src/FrameValue.ts","src/SpringPhase.ts","src/SpringValue.ts","src/Controller.ts","src/SpringContext.tsx","src/SpringHandle.ts","src/hooks/useSprings.ts","src/hooks/useSpring.ts","src/hooks/useTrail.ts","src/TransitionPhase.ts","src/hooks/useTransition.tsx","src/components/Spring.tsx","src/components/Trail.tsx","src/components/Transition.tsx","src/Interpolation.ts","src/interpolate.ts","src/globals.ts"],"sourcesContent":null,"names":["useChain","refs","timeSteps","timeFrame","useLayoutEffect","prevDelay","each","ref","i","current","controllers","length","delay","isNaN","ctrl","queue","props","start","p","Promise","resolve","updates","map","q","then","push","config","tension","friction","gentle","wobbly","stiff","slow","molasses","linear","t","defaults","configs","mass","damping","easing","clamp","AnimationConfig","frequency","velocity","restVelocity","precision","progress","duration","bounce","decay","round","Object","assign","mergeConfig","newConfig","defaultConfig","sanitizeConfig","key","is","und","Math","pow","PI","undefined","isTensionConfig","emptyArray","Animation","changed","values","toValues","fromValues","to","from","immediate","onStart","onChange","onRest","useMemo","create","deps","useMemoOne","callProp","value","args","fun","matchProp","toArray","includes","getProps","arg","arr","hasDefaultProp","getDefaultProp","getDefaultProps","omitKeys","keys","DEFAULT_PROPS","mergeDefaultProps","RESERVED_PROPS","loop","reset","pause","cancel","reverse","onDelayEnd","onProps","items","trail","sort","expires","initial","enter","update","leave","children","callId","parentId","getForwardProps","forward","count","prop","inferTo","out","val","computeGoal","getFluidConfig","get","isAnimatedString","G","range","output","scheduleProps","state","actions","reject","timeout","resumeQueue","add","onResume","resume","onPause","time","now","pauseQueue","frameLoop","setTimeout","cancelId","err","getCombinedResult","target","results","some","result","cancelled","getCancelledResult","every","noop","getNoopResult","getFinishedResult","finished","runAsync","prevTo","asyncTo","prevPromise","promise","asyncId","defaultProps","bailPromise","preventBail","bail","withBailHandler","fn","onError","BailSignal","bailIfEnded","bailSignal","bailResult","animate","arg1","arg2","obj","animating","stop","bind","all","cancelAsync","Error","isFrameValue","FrameValue","nextId","id","_priority","_children","Set","node","getAnimated","getValue","interpolate","deprecateInterpolate","addChild","child","size","_attach","removeChild","_detach","onParentChange","type","idle","_reset","_start","_emit","parent","_onChange","_onPriorityChange","priority","event","Array","FluidValue","CREATED","IDLE","ACTIVE","PAUSED","DISPOSED","SpringValue","animation","_phase","_state","_defaultProps","_lastCallId","_lastToId","advance","dt","anim","payload","getPayload","toConfig","forEach","done","lastPosition","position","elapsed","elapsedTime","v0","min","e","exp","abs","lastVelocity","bounceFactor","canBounce","isGrowing","isMoving","isBouncing","step","numSteps","ceil","n","springForce","dampingForce","acceleration","Number","console","warn","setValue","finish","phase","set","_focus","_set","_stop","checkDisposed","flush","_update","dispose","_prepareNode","getFluidValue","_updateNode","nodeType","_getNodeType","constructor","setAnimated","parentNode","AnimatedArray","AnimatedString","AnimatedValue","isLoop","mergeDefaultProp","_merge","nextProps","createLoopUpdate","hasToProp","hasFromProp","coerceEventProp","prevFrom","hasFromChanged","isEqual","hasToChanged","fromConfig","hasAsyncTo","goal","isAnimatable","num","name","goalType","started","hasValueChanged","onRestQueue","checkFinishedOnRest","onRestIndex","oldValue","spring","loopRet","overrides","createUpdate","findDefined","declareUpdate","BATCHED_EVENTS","Controller","springs","_flush","_initialProps","_lastAsyncId","_active","_events","Map","_onFrame","prepareKeys","flushUpdateQueue","iterator","isActive","onFrame","flushUpdate","handler","promises","getSprings","prepareSprings","createSpring","setSprings","observer","ctx","React","SpringContext","inherited","useContext","Provider","React.createElement","Consumer","useSpringContext","SpringHandle","getControllers","useSprings","propsFn","layoutId","useRef","forceUpdate","useForceUpdate","useState","ctrls","canFlushSync","refProp","prevLength","usePrev","disposed","slice","declareUpdates","startIndex","endIndex","api","context","cb","useOnce","x","arguments","useSpring","isFn","useTrail","propsArg","useCallbackOne","MOUNT","ENTER","UPDATE","LEAVE","useTransition","data","transitions","getKeys","usedTransitions","prevTransitions","expired","clearTimeout","expirationId","reused","indexOf","item","keyIndex","prevIndex","splice","a","b","changes","prevPhase","isLeave","find","expiry","expiryMs","useImperativeHandle","renderTransitions","render","elem","str","Spring","Trail","trails","index","Transition","Interpolation","source","calc","createInterpolator","_get","_dt","inputs","max","reduce","Globals","createStringInterpolator"],"mappings":"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"}