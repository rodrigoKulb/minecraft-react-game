import React, { useRef, useMemo } from 'react';

/* eslint-disable react-hooks/rules-of-hooks */
function useContextBridge(...contexts) {
  const cRef = useRef([]);
  cRef.current = contexts.map(context => React.useContext(context));
  return useMemo(() => ({
    children
  }) => contexts.reduceRight((acc, Context, i) => /*#__PURE__*/React.createElement(Context.Provider, {
    value: cRef.current[i],
    children: acc
  }), children), []);
}

export { useContextBridge };
