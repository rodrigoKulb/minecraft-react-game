'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);

/* eslint-disable react-hooks/rules-of-hooks */
function useContextBridge() {
  for (var _len = arguments.length, contexts = new Array(_len), _key = 0; _key < _len; _key++) {
    contexts[_key] = arguments[_key];
  }

  var cRef = React.useRef([]);
  cRef.current = contexts.map(function (context) {
    return React__default['default'].useContext(context);
  });
  return React.useMemo(function () {
    return function (_ref) {
      var children = _ref.children;
      return contexts.reduceRight(function (acc, Context, i) {
        return /*#__PURE__*/React__default['default'].createElement(Context.Provider, {
          value: cRef.current[i],
          children: acc
        });
      }, children);
    };
  }, []);
}

exports.useContextBridge = useContextBridge;
