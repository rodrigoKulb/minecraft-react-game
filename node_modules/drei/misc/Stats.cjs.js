'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var reactThreeFiber = require('react-three-fiber');
var StatsImpl = require('three/examples/js/libs/stats.min');

function _interopNamespace(e) {
  if (e && e.__esModule) { return e; } else {
    var n = Object.create(null);
    if (e) {
      Object.keys(e).forEach(function (k) {
        if (k !== 'default') {
          var d = Object.getOwnPropertyDescriptor(e, k);
          Object.defineProperty(n, k, d.get ? d : {
            enumerable: true,
            get: function () {
              return e[k];
            }
          });
        }
      });
    }
    n['default'] = e;
    return Object.freeze(n);
  }
}

var StatsImpl__namespace = /*#__PURE__*/_interopNamespace(StatsImpl);

function Stats(_ref) {
  var _ref$showPanel = _ref.showPanel,
      showPanel = _ref$showPanel === void 0 ? 0 : _ref$showPanel,
      className = _ref.className,
      parent = _ref.parent;

  var _useState = React.useState(function () {
    return new StatsImpl__namespace();
  }),
      stats = _useState[0];

  React.useEffect(function () {
    var node = parent && parent.current || document.body;
    stats.showPanel(showPanel);
    node == null ? void 0 : node.appendChild(stats.dom);
    if (className) stats.dom.classList.add(className);
    var begin = reactThreeFiber.addEffect(function () {
      return stats.begin();
    });
    var end = reactThreeFiber.addAfterEffect(function () {
      return stats.end();
    });
    return function () {
      node == null ? void 0 : node.removeChild(stats.dom);
      begin();
      end();
    };
  }, [parent]);
  return null;
}

exports.Stats = Stats;
